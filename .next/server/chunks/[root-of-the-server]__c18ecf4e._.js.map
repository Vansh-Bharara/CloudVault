{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/vansshbarara/Desktop/e/web%20dev/ntccMajorCloudVault/lib/mongodbClient.ts"],"sourcesContent":["import { MongoClient } from \"mongodb\";\n\nconst uri = process.env.MONGODB_URI!;\nconst options = {};\n\nlet client;\nlet clientPromise: Promise<MongoClient>;\n\nif (!process.env.MONGODB_URI) {\n  throw new Error(\"Please add your Mongo URI to .env.local\");\n}\n\nif (process.env.NODE_ENV === \"development\") {\n  // @ts-ignore\n  if (!global._mongoClientPromise) {\n    client = new MongoClient(uri, options);\n    // @ts-ignore\n    global._mongoClientPromise = client.connect();\n  }\n  // @ts-ignore\n  clientPromise = global._mongoClientPromise;\n} else {\n  client = new MongoClient(uri, options);\n  clientPromise = client.connect();\n}\n\nexport default clientPromise;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,wCAA4C;IAC1C,aAAa;IACb,IAAI,CAAC,4CAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,uGAAA,CAAA,cAAW,CAAC,KAAK;QAC9B,aAAa;QACb,4CAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,aAAa;IACb,gBAAgB,4CAAO,mBAAmB;AAC5C;;uCAKe","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///Users/vansshbarara/Desktop/e/web%20dev/ntccMajorCloudVault/lib/auth.ts"],"sourcesContent":["// app/lib/auth.ts\nimport { NextAuthOptions } from \"next-auth\";\nimport GoogleProvider from \"next-auth/providers/google\";\nimport { MongoDBAdapter } from \"@auth/mongodb-adapter\";\nimport clientPromise from \"@/lib/mongodbClient\";\n\nexport const authOptions: NextAuthOptions = {\n  adapter: MongoDBAdapter(clientPromise),\n  providers: [\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID!,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n    }),\n  ],\n  secret: process.env.NEXTAUTH_SECRET,\n  callbacks: {\n    async session({ session, user }) {\n      // attach db id to session.user.id\n      if (session?.user) session.user.id = user.id ?? (user as any)._id;\n      return session;\n    },\n  },\n};\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;AAElB;AACA;AACA;;;;AAEO,MAAM,cAA+B;IAC1C,SAAS,CAAA,GAAA,uJAAA,CAAA,iBAAc,AAAD,EAAE,sHAAA,CAAA,UAAa;IACrC,WAAW;QACT,CAAA,GAAA,qJAAA,CAAA,UAAc,AAAD,EAAE;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;QAChD;KACD;IACD,QAAQ,QAAQ,GAAG,CAAC,eAAe;IACnC,WAAW;QACT,MAAM,SAAQ,EAAE,OAAO,EAAE,IAAI,EAAE;YAC7B,kCAAkC;YAClC,IAAI,SAAS,MAAM,QAAQ,IAAI,CAAC,EAAE,GAAG,KAAK,EAAE,IAAI,AAAC,KAAa,GAAG;YACjE,OAAO;QACT;IACF;AACF","debugId":null}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/vansshbarara/Desktop/e/web%20dev/ntccMajorCloudVault/lib/mongodb.ts"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst MONGODB_URI = process.env.MONGODB_URI!;\n\nif (!MONGODB_URI) {\n  throw new Error(\"Please define the MONGODB_URI in .env.local\");\n}\n\nlet cached = (global as any).mongoose;\n\nif (!cached) {\n  cached = (global as any).mongoose = { conn: null, promise: null };\n}\n\nexport async function connectDB() {\n  if (cached.conn) return cached.conn;\n\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGODB_URI, {\n      dbName: process.env.MONGODB_DB,\n    }).then((mongoose) => mongoose);\n  }\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,SAAS,4CAAgB,QAAQ;AAErC,IAAI,CAAC,QAAQ;IACX,SAAS,4CAAgB,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAClE;AAEO,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa;YAC7C,QAAQ,QAAQ,GAAG,CAAC,UAAU;QAChC,GAAG,IAAI,CAAC,CAAC,WAAa;IACxB;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB","debugId":null}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///Users/vansshbarara/Desktop/e/web%20dev/ntccMajorCloudVault/lib/models/File.ts"],"sourcesContent":["// lib/models/File.ts\nimport mongoose, { Schema } from \"mongoose\";\n\nexport interface IFile {\n  userEmail: string;\n  filename: string;\n  s3Key: string;\n  size: number;\n  mimeType: string;\n  createdAt: Date;\n}\n\nconst FileSchema = new Schema<IFile>({\n  userEmail: { type: String, required: true, index: true },\n  filename: { type: String, required: true },\n  s3Key: { type: String, required: true, unique: true },\n  size: { type: Number, required: true },\n  mimeType: { type: String, required: true },\n  createdAt: { type: Date, default: Date.now },\n});\n\n// Prevent model overwrite on hot reload\nexport default (mongoose.models.File as mongoose.Model<IFile>) ||\n  mongoose.model(\"File\", FileSchema);\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;AACrB;;AAWA,MAAM,aAAa,IAAI,yGAAA,CAAA,SAAM,CAAQ;IACnC,WAAW;QAAE,MAAM;QAAQ,UAAU;QAAM,OAAO;IAAK;IACvD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C;uCAGe,AAAC,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,IAAI,IAClC,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAC,QAAQ","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///Users/vansshbarara/Desktop/e/web%20dev/ntccMajorCloudVault/app/api/files/metadata/route.ts"],"sourcesContent":["// app/api/files/metadata/route.ts\nimport { NextResponse } from \"next/server\";\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport File from \"@/lib/models/File\";\n\nexport async function POST(req: Request) {\n  const session = await getServerSession(authOptions);\n  if (!session) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const { filename, s3Key, size, mimeType } = await req.json();\n\n  await connectDB();\n  const doc = await File.create({\n    userEmail: session.user?.email,\n    filename,\n    s3Key,\n    size,\n    mimeType,\n  });\n\n  return NextResponse.json({ ok: true, fileId: doc._id });\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;AAClC;AACA;AACA;AACA;AACA;;;;;;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,UAAU,MAAM,CAAA,GAAA,uIAAA,CAAA,mBAAgB,AAAD,EAAE,6GAAA,CAAA,cAAW;IAClD,IAAI,CAAC,SAAS,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAEhF,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1D,MAAM,CAAA,GAAA,gHAAA,CAAA,YAAS,AAAD;IACd,MAAM,MAAM,MAAM,uHAAA,CAAA,UAAI,CAAC,MAAM,CAAC;QAC5B,WAAW,QAAQ,IAAI,EAAE;QACzB;QACA;QACA;QACA;IACF;IAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,IAAI;QAAM,QAAQ,IAAI,GAAG;IAAC;AACvD","debugId":null}}]
}